webpackJsonp([5],{"8zRz":function(t,e){},"9JmU":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("BO1k"),s=a.n(i),n=a("Dd8w"),l=a.n(n),o=a("SJI6"),r={name:"stationSet",data:function(){return{activeName:"first",input:"",input1:"",input2:"",input3:"",input4:"",dialogVisible:!1,dialogVisible_1:!1,id:"",options:[{value:"银行卡转账",label:"银行卡转账"}],value:"银行卡转账",value1:"",value2:"",tableData:[],priceSet:[]}},computed:l()({},Object(o.mapGetters)(["userInfo"])),created:function(){this.getInfo()},methods:{handleClick:function(t,e){"first"===this.activeName?this.getInfo():"second"===this.activeName?this.setInfo():"third"===this.activeName&&this.getPrice()},getInfo:function(){var t=this;this.$ajax.post("/api/substation/getBaseStationInfo",{substationId:this.userInfo.substationId}).then(function(e){var a=e.data.data;"200"===e.data.code?(t.input=a.substationName,t.input1=a.recipetContent,t.input2=a.serviceTelephone,t.input3=a.serviceWechatNum,t.input4=a.serviceQQ):t.$message({message:e.data.message,type:"warning"})}).catch(function(){t.$message.error("服务器错误！")})},sure:function(){var t=this;this.$ajax.post("/api/substation/updateBaseStationInfo",{substationId:this.userInfo.substationId,substationName:this.input,recipetType:"1",recipetTypeDetail:this.value,recipetContent:this.input1,serviceQQ:this.input4,serviceWechatNum:this.input3,serviceTelephone:this.input2}).then(function(e){"200"===e.data.code?(t.$message({message:"修改成功",type:"success"}),t.getInfo()):t.$message({message:e.data.message,type:"warning"})}).catch(function(){t.$message.error("服务器错误！")})},setInfo:function(){var t=this;this.$ajax.post("/api/substation/getLevelUpList",{substationId:this.userInfo.substationId}).then(function(e){var a=e.data;if("200"===a.code){var i=[],n=!0,l=!1,o=void 0;try{for(var r,c=s()(a.data);!(n=(r=c.next()).done);n=!0){var u=r.value,p={levelDetail:u.levelDetail,conditionNeed:u.conditionNeed,id:u.id};i.push(p)}}catch(t){l=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(l)throw o}}t.tableData=i}}).catch(function(){t.$message.error("服务器错误！")})},handleClickChange:function(t){this.value1="",this.dialogVisible=!0,this.id=t.id},updataLevel:function(){var t=this;this.$ajax.post("/api/substation/updateLevelUpRule",{id:this.id,condition:this.value1}).then(function(e){"200"===e.data.code&&(t.$message({message:"修改成功",type:"success"}),t.dialogVisible=!1,t.setInfo())}).catch(function(e){t.$message({message:e,type:"error"})})},getPrice:function(){var t=this;this.$ajax.post("/api/substation/getChargeRuleList",{substationId:this.userInfo.substationId,logisticType:1}).then(function(e){var a=e.data;if("200"===a.code){var i=[],n=!0,l=!1,o=void 0;try{for(var r,c=s()(a.data);!(n=(r=c.next()).done);n=!0){var u=r.value,p={logisticsTypeDetail:u.logisticsTypeDetail,levelDetail:u.levelDetail,price:u.price,id:u.id};i.push(p)}}catch(t){l=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(l)throw o}}t.priceSet=i}}).catch(function(){t.$message.error("服务器错误！")})},handleClickPrice:function(t){this.id=t.id,this.dialogVisible_1=!0},sure_1:function(){var t=this;if(this.value2<2.8)return this.$message({message:"修改价格不能低于2.8/单",type:"warning"}),!1;this.$ajax.post("/api/substation/updateChargeRule",{id:this.id,price:this.value2}).then(function(e){"200"===e.data.code&&(t.$message({message:"修改成功",type:"success"}),t.dialogVisible_1=!1,t.getPrice())}).catch(function(e){t.$message({message:e,type:"error"})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stationSet"},[a("div",{staticClass:"wrap"},[a("h3",[t._v("站点设置")]),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本设置",name:"first"}},[a("p",{staticClass:"first"},[a("span",[t._v("站点名称")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),a("p",{staticClass:"first"},[a("span",[t._v("收款类型")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("p",{staticClass:"first"},[a("span",[t._v("收款账号")]),t._v(" "),a("el-input",{attrs:{disabled:"",placeholder:"请输入内容"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1),t._v(" "),a("p",{staticClass:"first"},[a("span",[t._v("客服电话")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1),t._v(" "),a("p",{staticClass:"first"},[a("span",[t._v("客服微信")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input3,callback:function(e){t.input3=e},expression:"input3"}})],1),t._v(" "),a("p",{staticClass:"first"},[a("span",{staticClass:"qq"},[t._v("在线客服(QQ)")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input4,callback:function(e){t.input4=e},expression:"input4"}}),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"statement"},[t._v("多个客服QQ用逗号")])],1),t._v(" "),a("p",{staticClass:"primary"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确定")])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"用户升级规则设置",name:"second"}},[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.tableData,stripe:"",border:"true"}},[a("el-table-column",{attrs:{prop:"levelDetail",label:"会员等级",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"conditionNeed",label:"升级条件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("累计充值满"+t._s(e.row.conditionNeed)+"元")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClickChange(e.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"cover"})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"快递价格设置",name:"third"}},[a("el-table",{staticStyle:{width:"700px"},attrs:{data:t.priceSet,stripe:"",border:"true"}},[a("el-table-column",{attrs:{prop:"logisticsTypeDetail",label:"物流公司",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"levelDetail",label:"会员等级",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格(元/单)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClickPrice(e.row)}}},[t._v("修改")])]}}])})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"cover"},[a("el-dialog",{attrs:{title:"修改升级条件",visible:t.dialogVisible,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("用户累计")]),t._v(" "),a("el-input",{attrs:{placeholder:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),a("span",[t._v("元后自动升级到该等级")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.updataLevel}},[t._v("确 定")])],1)],1)],1),t._v(" "),a("div",{staticClass:"cover"},[a("el-dialog",{attrs:{title:"设计价格",visible:t.dialogVisible_1,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible_1=e}}},[a("span",[t._v("价格")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible_1=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sure_1}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("8zRz")},"data-v-457254ab",null);e.default=u.exports},BO1k:function(t,e,a){t.exports={default:a("fxRn"),__esModule:!0}},fxRn:function(t,e,a){a("+tPU"),a("zQR9"),t.exports=a("g8Ux")},g8Ux:function(t,e,a){var i=a("77Pl"),s=a("3fs2");t.exports=a("FeBl").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}}});
//# sourceMappingURL=5.bc30e6868ea235f2c80f.js.map