webpackJsonp([13],{"+rhx":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};t.d(o,"setUserInfo",function(){return x}),t.d(o,"setUserToken",function(){return U}),t.d(o,"clearUserInfo",function(){return y}),t.d(o,"setErrorTimeList",function(){return w}),t.d(o,"setSellerInfo",function(){return A});var r={};t.d(r,"userInfo",function(){return F}),t.d(r,"userToken",function(){return C}),t.d(r,"sellerInfo",function(){return j});var s=t("lRwf"),a=t.n(s),i={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var u=t("VU/8")({name:"app"},i,!1,function(e){t("mq9l")},null,null).exports,c=t("Gu7T"),l=t.n(c),f=t("pRNm"),m=t.n(f),p=[{path:"/login",component:function(e){Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"EV1k")).then(function(n){e(n)})},name:"login",meta:{title:"登录"}}],h=[{path:"account/userManger",component:function(){return t.e(11).then(t.bind(null,"ufer"))},name:"userManger",meta:{title:"用户管理"}},{path:"account/pushManger",component:function(){return t.e(9).then(t.bind(null,"2Gsa"))},name:"pushManger",meta:{title:"推荐人管理"}},{path:"account/profits",component:function(){return t.e(5).then(t.bind(null,"MRb+"))},name:"profits",meta:{title:"利润明细"}}],d=[{path:"order/taskList",component:function(){return t.e(6).then(t.bind(null,"4q5x"))},name:"taskList",meta:{title:"任务列表"}},{path:"order/orderList",component:function(){return t.e(4).then(t.bind(null,"aEKa"))},name:"orderList",meta:{title:"订单列表"}}],_=[{path:"money/leftMoney",component:function(){return t.e(3).then(t.bind(null,"b4sd"))},name:"leftMoney",meta:{title:"账户余额"}},{path:"money/rechargeList",component:function(){return t.e(7).then(t.bind(null,"CA3i"))},name:"rechargeList",meta:{title:"用户充值记录"}},{path:"money/profitList",component:function(){return t.e(8).then(t.bind(null,"0xnE"))},name:"profitList",meta:{title:"利润报表"}}],E=[{path:"other/stationSet",component:function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,"9JmU"))},name:"stationSet",meta:{title:"站点设置"}}],I=[{path:"/",component:function(e){Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"LqM4")).then(function(n){e(n)})},name:"home",children:[].concat([{path:"/home",redirect:{name:"userManger"}}],l()(h),l()(d),l()(_),l()(E))}];a.a.use(m.a);var T=new m.a({routes:[].concat([{path:"/",redirect:"money/leftMoney"}],l()(p),l()(I)),mode:"history"});T.beforeEach(function(e,n,t){e.meta.title||e.params.message?document.title=e.meta.title||e.params.message.title:document.title="KB项目",t()});var R=T,g=t("SJI6"),S=t.n(g),L=t("MfZv"),v=t.n(L),k="__userInfo__",M="__userToken__",N="__errorTime__",b="__sellerInfo__";var O,x=function(e,n){var t;(0,e.commit)("SET_USER_INFO",(t=n,v.a.session.set(k,t),t))},U=function(e,n){var t;(0,e.commit)("SET_USER_TOKEN",(t=n,v.a.session.set(M,t),t))},y=function(e,n){(0,e.commit)("CLEAR_USER_INFO",n)},w=function(e,n){(0,e.commit)("ERROR_TIME_LIST",n)},A=function(e,n){var t;(0,e.commit)("SET_SELLER_INFO",(t=n,v.a.session.set(b,t),t))},F=function(e){return e.userInfo},C=function(e){return e.userToken},j=function(e){return e.sellerInfo},K={userInfo:v.a.session.get(k,[]),userToken:v.a.session.get(M,[]),errorTimeList:[],sellerInfo:v.a.session.get(b,[])},q=t("bOdI"),V=t.n(q),J=(O={},V()(O,"SET_USER_INFO",function(e,n){e.userInfo=n}),V()(O,"SET_USER_TOKEN",function(e,n){e.userToken=n}),V()(O,"CLEAR_USER_INFO",function(e){e.userInfo=(v.a.session.remove(k),[])}),V()(O,"CLEAR_USER_TOKEN",function(e){e.userToken=(v.a.session.remove(M),[])}),V()(O,"ERROR_TIME_LIST",function(e,n){e.errorTimeList=n}),V()(O,"SET_SELLER_INFO",function(e,n){e.sellerInfo=n}),O);a.a.use(S.a);var P=new S.a.Store({actions:o,getters:r,state:K,mutations:J}),B=t("//Fk"),G=t.n(B),H=t("OMN4"),$=t.n(H),D=t("l6IN"),Z=t.n(D);$.a.defaults.timeout=5e3,v.a.session.remove(N),$.a.interceptors.request.use(function(e){return P.state.userInfo&&(e.headers.accesstoken=P.state.userToken,e.headers.userAccountId=P.state.userInfo.userId),e},function(e){return G.a.reject(e)}),$.a.interceptors.response.use(function(e){return e.config.headers.accesstoken!==e.headers.accesstoken&&e.headers.accesstoken&&P.dispatch("setUserToken",e.headers.accesstoken),e},function(e){if(console.log(e),e.response){switch(e.response.status){case 403:n=(new Date).getTime(),(t=v.a.session.get(N)||[]).push(n),v.a.session.set(N,t),1===v.a.session.get(N).length&&Z.a.MessageBox.confirm("登录失效，请重新登录","提示",{type:"error",showCancelButton:!1,closeOnClickModal:!1}).then(function(){P.commit("CLEAR_USER_TOKEN"),R.replace({name:"login"})}).catch(function(e){console.log(e)})}return!1}var n,t;return G.a.reject(e.response.data)});var z=$.a;t("j1ja"),t("+rhx");a.a.config.productionTip=!1,a.a.prototype.$ajax=z,new a.a({el:"#app",router:R,store:P,template:"<App/>",components:{App:u}})},OMN4:function(e,n){e.exports=axios},SJI6:function(e,n){e.exports=Vuex},l6IN:function(e,n){e.exports=ELEMENT},lRwf:function(e,n){e.exports=Vue},mq9l:function(e,n){},pRNm:function(e,n){e.exports=VueRouter}},["NHnr"]);
//# sourceMappingURL=app.43c453c372c145e7e947.js.map